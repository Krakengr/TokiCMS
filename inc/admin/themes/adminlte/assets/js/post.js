/* Language switch */
(()=>{function e(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var a=function(){function a(){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a)}var n,t;return n=a,(t=[{key:"init",value:function(){var e=$("#post_lang_choice");e.data("prev",e.val()),$(document).on("change","#post_lang_choice",(function(e){$(".change_to_language_text").text($(e.currentTarget).find("option:selected").text()),$("#confirm-change-language-modal").modal("show")})),$(document).on("click","#confirm-change-language-modal .btn-warning.float-left",(function(a){a.preventDefault(),(e=$("#post_lang_choice")).val(e.data("prev")).trigger("change"),$("#confirm-change-language-modal").modal("hide")})),$(document).on("click","#confirm-change-language-button",(function(a){a.preventDefault();var n=$(a.currentTarget),t=$("#language_flag_path").val();n.addClass("button-loading"),e=$("#post_lang_choice"),$.ajax({url:$("div[data-change-language-route]").data("change-language-route"),data:{lang_meta_current_language:e.val(),post_id:$("#post_id").val(),lang_meta_created_from:$("#lang_meta_created_from").val()},type:"POST",success:function(a){if($(".active-language").html('<img src="'+t+e.find("option:selected").data("flag")+'" width="16" title="'+e.find("option:selected").text()+'" alt="'+e.find("option:selected").text()+'" />'),!a.error){var ll = e.find("option:selected").val();var cc = Object.values(a.htmlCode);$(".current_language_cats").html(cc[0].selection);var r="";$.each(a.data,(function(e,a){r+='<img src="'+t+a.lang_flag+'" width="16" title="'+a.lang_name+'" alt="'+a.lang_name+'">',a.post_id?r+='<a href="'+$("#route_edit").val()+'"> '+a.lang_name+' <i class="fa fa-edit"></i> </a><br />':r+='<a href="'+$("#route_create").val()+"?lang="+a.lang_id+'"> '+a.lang_name+' <i class="fa fa-plus"></i> </a><br />'})),$("#list-others-language").html(r),$("#confirm-change-language-modal").modal("hide"),e.data("prev",e.val()).trigger("change")}n.removeClass("button-loading")}})})),$(document).on("click",".change-data-language-item",(function(e){e.preventDefault(),window.location.href=$(e.currentTarget).find("span[data-href]").data("href")}))}}])&&e(n.prototype,t),a}();$(document).ready((function(){(new a).init(),$.ajaxSetup({data:{ref_from:$('meta[name="ref_from"]').attr("content"),ref_lang:$('meta[name="ref_lang"]').attr("content")}})}))})();
/* Seo Preview */
(()=>{function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.$document=$(document)}var n,a,i;return n=t,i=[{key:"updateSEOTitle",value:function(e){e?($("#seo_title").val()||$(".page-title-seo").text(e),$(".default-seo-description").addClass("hidden"),$(".existed-seo-meta").removeClass("hidden")):($(".default-seo-description").removeClass("hidden"),$(".existed-seo-meta").addClass("hidden"))}},{key:"updateSEODescription",value:function(e){e&&($("#seo_description").val()||$(".page-description-seo").text(e))}}],(a=[{key:"handleMetaBox",value:function(){var e=this.$document.find("#sample-permalink a");e.length&&$(".page-url-seo p").text(e.prop("href").replace("?preview=true","")),this.$document.on("click",".btn-trigger-show-seo-detail",(function(e){e.preventDefault(),$(".seo-edit-section").toggleClass("hidden")})),this.$document.on("keyup","input[name=name]",(function(e){t.updateSEOTitle($(e.currentTarget).val())})),this.$document.on("keyup","input[name=title]",(function(e){t.updateSEOTitle($(e.currentTarget).val())})),this.$document.on("keyup","textarea[name=description]",(function(e){t.updateSEODescription($(e.currentTarget).val())})),this.$document.on("keyup","#seo_title",(function(e){if($(e.currentTarget).val())$(".page-title-seo").text($(e.currentTarget).val()),$(".default-seo-description").addClass("hidden"),$(".existed-seo-meta").removeClass("hidden");else{var t=$("input[name=title]");t.val()?$(".page-title-seo").text(t.val()):$(".page-title-seo").text($("input[name=title]").val())}})),this.$document.on("keyup","#seo_description",(function(e){$(e.currentTarget).val()?$(".page-description-seo").text($(e.currentTarget).val()):$(".page-description-seo").text($("textarea[name=description]").val())}))}}])&&e(n.prototype,a),i&&e(n,i),t}();$(document).ready((function(){(new t).handleMetaBox()}))})();
/* Slug Change */
(()=>{function e(e,a){for(var l=0;l<a.length;l++){var t=a[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var a=function(){function a(){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a)}var l,t;return l=a,(t=[{key:"init",value:function(){$(document).on("click","#change_slug",(function(e){$(".default-slug").unwrap();var a=$("#editable-post-name");a.html('<input type="text" id="new-post-slug" class="form-control" value="'+a.text()+'" autocomplete="off">'),$("#edit-slug-box .cancel").show(),$("#edit-slug-box .save").show(),$(e.currentTarget).hide()})),$(document).on("click","#edit-slug-box .cancel",(function(){var e=$("#current-slug").val(),a=$("#sample-permalink");a.html('<a class="permalink" href="'+$("#slug_id").data("view")+e.replace("/","")+'">'+a.html()+"</a>"),$("#editable-post-name").text(e),$("#edit-slug-box .cancel").hide(),$("#edit-slug-box .save").hide(),$("#change_slug").show()}));var e=function(e,a,l){$.ajax({url:$("#slug_id").data("url"),type:"POST",data:{name:e,slug_id:a,model:$("input[name=model]").val()},success:function(e){var a=$("#sample-permalink"),t=$("#slug_id");l?a.find(".permalink").prop("href",t.data("view")+e.replace("/","")):a.html('<a class="permalink" target="_blank" href="'+t.data("view")+e.replace("/","")+'">'+a.html()+"</a>"),$(".page-url-seo p").text(t.data("view")+e.replace("/","")),$("#editable-post-name").text(e),$("#current-slug").val(e),$("#edit-slug-box .cancel").hide(),$("#edit-slug-box .save").hide(),$("#change_slug").show(),$("#edit-slug-box").removeClass("hidden")},error:function(e){console.log(e)}})};$(document).on("click","#edit-slug-box .save",(function(){var a=$("#new-post-slug"),l=a.val(),t=$("#slug_id").data("id");null==t&&(t=0),null!=l&&""!==l?e(l,t,!1):a.closest(".form-group").addClass("has-error")})),$(document).on("blur","#name",(function(a){if($("#edit-slug-box").hasClass("hidden")){var l=$(a.currentTarget).val();null!==l&&""!==l&&e(l,0,!0)}}))}}])&&e(l.prototype,t),a}();$((function(){(new a).init()}))})();
/*datepicker*/
$(function() {$('.postDatepicker').datepicker({dateFormat: 'mm/dd/yyyy',autoclose: true,todayHighlight: true,onSelect: function(dateText, inst) {alert(dateText);}});});
/*Char Counter*/
function countChar(val, max, string) {var len = val.value.length;if (len >= max) {val.value = val.value.substring(0, max);} else {$(string).text(len + "/" + max);}};
/*Tags* /
(()=>{function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var i,n;return i=t,(n=[{key:"init",value:function(){$(document).find("#tags").each((function(e,t){var i=new Tagify(t,{keepInvalidTags:void 0===$(t).data("keep-invalid-tags")||$(t).data("keep-invalid-tags"),enforceWhitelist:void 0!==$(t).data("enforce-whitelist")&&$(t).data("enforce-whitelist"),delimiters:void 0!==$(t).data("delimiters")?$(t).data("delimiters"):",",whitelist:t.value.trim().split(/\s*,\s* /)});$(t).data("url")&&i.on("input",(function(e){i.settings.whitelist.length=0,i.loading(!0).dropdown.hide.call(i),$.ajax({type:"POST",url:$(t).data("url"),data:{lang:$("select[name=language]").find("option:selected").val(),lang2:$("input[id=post_lang_id]").val(),siteid:$("input[id=post_site_id]").val(),psttp:0},success:function(t){i.settings.whitelist=t,i.loading(!1).dropdown.show.call(i,e.detail.value)}})}))}))}}])&&e(i.prototype,n),t}();$(document).ready((function(){(new t).init()}))})();*/